Prerequisites
--------------------

Lightroom is required for building the application.

On Windows, you need Visual Studio 2015 (the Community edition is free). 
On Mac, you need XCode, also free.

The Visual Studio text editor file settings.vssettings should be loaded into
Visual Studio to maintain the standard code formatting used in this project.

There is a utility used to manage JUCE projects called Projucer that is
included when you download JUCE (http://www.juce.com/download) (you don't need
the actual JUCE source code, as this is already included in the repository).
Using this utility, you can update project properties such as the build version, 
and it will automatically update the relevant parameters for the Mac and Windows
projects. The Introjucer project file (MIDI2LR.jucer) is located in the root
directory.

When changing the version number, not only will you need to do so in Projucer,
but also in Info.lua (the VERSION variable).

The project files for both platforms will be located in Builds/ (MIDI2LR.sln for
Visual studio, and MIDI2LR.xcodeproj for XCode) once you've run Juce.

The database for string translations is in another repository, MIDI2LRdb because
of its large size. Request changes to the database when adding new strings to
the plugin.

Build process
--------------------

Some of the code in MIDI2LR is derived from a database (Database.lua), so
building requires rebuilding the database-driven files using Lightroom (LR).
MIDI2LR plugin must be installed in Lightroom.

1.
First, update the .lua files in the installed MIDI2LR plugin from the project
directory. 

2.
Then run LR and select Files -> Plugin Extras -> MIDI2LR -> Build Files. Follow
the instructions that are generated by that action:
GeneratedFromDatabase-ReadMe.txt. This step generates several C++ files, .lua
files, and wiki files (.md). The C++ files have to be moved into the Source
directory of the project, the generated .lua files need to be moved to the
Source\LRPlugin\MIDI2LR.lrplugin of the project, and the .md files update the
wiki.

3.
Then, On Windows, you simply need to build the project in Visual Studio. These
builds will reside in Builds/Visual Studio 2015.

On Mac, you need to build the project in XCode. These builds should reside in
Builds/MacOSX

Assembling the plugin
--------------------

Add the exe file (windows) or app directory (OSX) to a new directory named
MIDI2LR.lrplugin. Then add to MIDI2LR.lrplugin all the files in the project's
/Source/LRPlugin/MIDI2LR.lrplugin directory. That plugin can then be installed
in Lightroom as usual.
